<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout" xmlns:t="sap.ui.table">
	<Dialog title="{oDialogModel>/title}" class="sapUiContentPadding sapUiSizeCompact" contentWidth="70%" initialFocus="done">
		<content>
			<l:Grid defaultSpan="L12 M12 S12" vSpacing="1" hSpacing="1">
				<l:content>
					<Title text="Customer Details"/>
					<VBox>
						<Text text="Customer Name:"/>
						<Input value="{oDialogModel>/name}"/>
						<layoutData>
							<l:GridData span="L3 M4 S12"/>
						</layoutData>
					</VBox>
					<VBox>
						<Text text="ID Type:"/>
						<Select selectedKey="{oDialogModel>/idTyp}" width="100%">
							<core:Item key="0" text="--Select--"/>
							<core:Item key="1" text="Aadhar"/>
							<core:Item key="2" text="Voter ID"/>
						</Select>
						<layoutData>
							<l:GridData span="L3 M4 S12"/>
						</layoutData>
					</VBox>
					<VBox>
						<Text text="ID Number:"/>
						<Input value="{oDialogModel>/id}"/>
						<layoutData>
							<l:GridData span="L3 M4 S12"/>
						</layoutData>
					</VBox>
					<VBox>
						<Text text="Mobile:"/>
						<Input value="{oDialogModel>/mob}"/>
						<layoutData>
							<l:GridData span="L3 M4 S12"/>
						</layoutData>
					</VBox>
					<VBox>
						<Text text="Email:"/>
						<Input value="{oDialogModel>/mail}"/>
						<layoutData>
							<l:GridData span="L3 M4 S12"/>
						</layoutData>
					</VBox>
					<VBox>
						<Text text="Address:"/>
						<TextArea value="{oDialogModel>/addr}"/>
						<layoutData>
							<l:GridData span="L3 M4 S12"/>
						</layoutData>
					</VBox>
					<Title text="Loan Details"/>
					<VBox>
						<Text text="Loan Type:"/>
						<Select selectedKey="{oDialogModel>/type}" width="100%">
							<core:Item key="0" text="--Select--"/>
							<core:Item key="1" text="Gold"/>
							<core:Item key="2" text="Other"/>
						</Select>
						<layoutData>
							<l:GridData span="L3 M4 S12"/>
						</layoutData>
					</VBox>
					<VBox>
						<Text text="Loan Date:"/>
						<DatePicker id="idLnDt" class="classDt" value="{oDialogModel>/lnDt}" valueFormat="MMM dd,yyyy" change="calculateEMI"/>
						<layoutData>
							<l:GridData span="L3 M4 S12"/>
						</layoutData>
					</VBox>
					<VBox>
						<Text text="Gold (gms):"/>
						<Input type="Number" value="{oDialogModel>/goldGms}" change=".calculateEMI('G')"/>
						<layoutData>
							<l:GridData span="L3 M4 S12"/>
						</layoutData>
					</VBox>
					<VBox>
						<Text text="Gold Rate (gms):"/>
						<Input type="Number" value="{oDialogModel>/goldRt}" change=".calculateEMI('G')"/>
						<layoutData>
							<l:GridData span="L3 M4 S12"/>
						</layoutData>
					</VBox>
					<VBox>
						<Text text="Loan Amount:"/>
						<Input type="Number" value="{oDialogModel>/lnAmt}" change=".calculateEMI('A')"/>
						<layoutData>
							<l:GridData span="L3 M4 S12"/>
						</layoutData>
					</VBox>
					<VBox visible="false">
						<Text text="Installment Months:"/>
						<Input type="Number" value="{oDialogModel>/months}" />
						<layoutData>
							<l:GridData span="L3 M4 S12"/>
						</layoutData>
					</VBox>
					<VBox visible="false">
						<Text text="ROI:"/>
						<Input type="Number" value="{oDialogModel>/roi}" change="calculateEMI"/>
						<layoutData>
							<l:GridData span="L3 M4 S12"/>
						</layoutData>
					</VBox>
					<!--	<VBox>
						<Text text="EMI:"/>
						<Input value="{oDialogModel>/emi}"/>
						<layoutData>
								<l:GridData span="L3 M4 S12"/>
						</layoutData>
					</VBox>-->
						<Title text="Installment Details"/>
					
						<t:Table rows="{oDialogModel>/instDet/}" enableColumnReordering="false" visibleRowCount="14" selectionMode="None" showNoData="true"
						rowActionCount="0" fixedColumnCount="1" enableCellFilter="true">
						<t:columns>
							<t:Column sortProperty="" filterProperty="" hAlign="Start" resizable="false" width="5.5rem">
								<Text text="Installment" class="white bold" textAlign="Begin" wrapping="false" width="100%"/>
								<t:template>
									<Text text="{oDialogModel>no}"/>
								</t:template>
							</t:Column>
							<t:Column sortProperty="UOM" filterProperty="UOM" hAlign="Start" resizable="false" width="8rem">
								<Text text="Principal" class="white bold" textAlign="Begin" wrapping="false" width="100%"/>
								<t:template>
									<Text text="{oDialogModel>prA}"/>
								</t:template>
							</t:Column>
							<t:Column sortProperty="UOM" filterProperty="UOM" hAlign="Start" resizable="false" width="8rem">
								<Text text="Interest" class="white bold" textAlign="Begin" wrapping="false" width="100%"/>
								<t:template>
									<Text text="{oDialogModel>int}"/>
								</t:template>
							</t:Column>
						
							<t:Column sortProperty="" filterProperty="" hAlign="Start" resizable="false" width="8rem">
								<Text text="Int. Period From" class="white bold" textAlign="Begin" wrapping="false" width="100%"/>
								<t:template>
									<Text text="{path: 'oDialogModel>intFrm', type:'sap.ui.model.odata.type.DateTime', formatOptions: { style: 'medium' , pattern: 'dd-MM-YYYY'}}"/>
								</t:template>
							</t:Column>
							<t:Column sortProperty="" filterProperty="" hAlign="Start" resizable="false" width="8rem">
								<Text text="Int. Period To" class="white bold" textAlign="Begin" wrapping="false" width="100%"/>
								<t:template>
									<Text text="{path: 'oDialogModel>intTo', type:'sap.ui.model.odata.type.DateTime', formatOptions: { style: 'medium' , pattern: 'dd-MM-YYYY'}}"/>
								</t:template>
							</t:Column>
						
							<t:Column sortProperty="" filterProperty="" hAlign="Start" resizable="false" width="8rem">
								<Text text="Payment Window" class="white bold" textAlign="Begin" wrapping="false" width="100%"/>
								<t:template>
									<Text
										text="{path: 'oDialogModel>instStDt', type:'sap.ui.model.odata.type.DateTime', formatOptions: { style: 'medium' , pattern: 'dd-MM-YYYY'}} to {path: 'oDialogModel>fnPayDt', type:'sap.ui.model.odata.type.DateTime', formatOptions: { style: 'medium' , pattern: 'dd-MM-YYYY'}}"/>
								</t:template>
							</t:Column>
							
							<t:Column sortProperty="" filterProperty="" hAlign="Start" resizable="false" width="8rem">
								<Text text="Installment Date" class="white bold" textAlign="Begin" wrapping="false" width="100%"/>
								<t:template>
									<Text text="{path: 'oDialogModel>instDt', type:'sap.ui.model.odata.type.DateTime', formatOptions: { style: 'medium' , pattern: 'dd-MM-YYYY'}}"/>
								</t:template>
							</t:Column>
						
						</t:columns>
					
					</t:Table>
						
						
					
					
				</l:content>
			</l:Grid>
		</content>
		<buttons>
			<Button type="Ghost" text="Close" press="onClose" class="sapUiTinyMarginEnd"/>
			<Button type="Accept" text="Add" press="cAddCust" class="sapUiTinyMarginEnd"/>
		</buttons>
		<beginButton></beginButton>
		<endButton></endButton>
	</Dialog>
</core:FragmentDefinition>
